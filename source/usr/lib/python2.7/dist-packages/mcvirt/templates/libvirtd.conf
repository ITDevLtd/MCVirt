# Generated by MCVirt
#
# Master libvirt daemon configuration file
#
# For further information consult http://libvirt.org/format.html
#

#################################################################
#
# Network connectivity controls
#

# Flag listening for secure TLS connections on the public TCP/IP port.
# NB, must pass the --listen flag to the libvirtd process for this to
# have any effect.
listen_tls = 1

# Listen for unencrypted TCP connections on the public TCP/IP port.
# NB, must pass the --listen flag to the libvirtd process for this to
# have any effect.
#
# Using the TCP socket requires SASL authentication by default. Only
# SASL mechanisms which support data encryption are allowed. This is
# DIGEST_MD5 and GSSAPI (Kerberos5)
#
# This is disabled by default, uncomment this to enable it.
listen_tcp = 0



# Override the port for accepting secure TLS connections
# This can be a port number, or service name
tls_port = "16514"

# Override the default configuration which binds to all network
# interfaces. This can be a numeric IPv4/6 address, or hostname
#
# If the libvirtd service is started in parallel with network
# startup (e.g. with systemd), binding to addresses other than
# the wildcards (0.0.0.0/::) might not be available yet.
#
listen_addr = "$ip_address"


# Flag toggling mDNS advertizement of the libvirt service.
#
# Alternatively can disable for all services on a host by
# stopping the Avahi daemon
mdns_adv = 0

#################################################################
#
# TLS x509 certificate configuration
#

# Override the default server key file path
key_file = "$ssl_server_key"

# Override the default server certificate file path
cert_file = "$ssl_server_cert"

# Override the default CA certificate path
ca_file = "$ssl_ca_cert"


#################################################################
#
# Authorization controls
#

# Flag to disable verification of our own server certificates
tls_no_sanity_certificate = 0

# Flag to disable verification of client certificates
tls_no_verify_certificate = 0


# A whitelist of allowed x509 Distinguished Names
tls_allowed_dn_list = ["$allowed_nodes"]
